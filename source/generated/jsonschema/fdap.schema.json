{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GlobalConfig",
  "type": "object",
  "required": [
    "forms",
    "menu",
    "views"
  ],
  "properties": {
    "admin_token": {
      "type": [
        "string",
        "null"
      ]
    },
    "forms": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/ClientForm"
      }
    },
    "menu": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/MenuItem"
      }
    },
    "public_iam_grants": {
      "default": [],
      "type": "array",
      "items": {
        "type": "string"
      },
      "uniqueItems": true
    },
    "views": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/View"
      }
    }
  },
  "additionalProperties": false,
  "definitions": {
    "Block": {
      "type": "object",
      "required": [
        "widget"
      ],
      "properties": {
        "widget": {
          "description": "The contents of the block.",
          "allOf": [
            {
              "$ref": "#/definitions/Widget"
            }
          ]
        },
        "width": {
          "description": "Sets the default width of the block. If not specified, space will be divided with other unsized blocks.",
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "Chain": {
      "type": "object",
      "required": [
        "body"
      ],
      "properties": {
        "body": {
          "$ref": "#/definitions/ChainBody"
        },
        "select": {
          "type": [
            "string",
            "null"
          ]
        },
        "subchains": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Chain"
          }
        }
      },
      "additionalProperties": false
    },
    "ChainBody": {
      "type": "object",
      "required": [
        "steps"
      ],
      "properties": {
        "root": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChainRoot"
            },
            {
              "type": "null"
            }
          ]
        },
        "steps": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Step"
          }
        }
      },
      "additionalProperties": false
    },
    "ChainRoot": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "value"
          ],
          "properties": {
            "value": {
              "$ref": "#/definitions/Value"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "search"
          ],
          "properties": {
            "search": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "ClientForm": {
      "type": "object",
      "required": [
        "fields",
        "outputs"
      ],
      "properties": {
        "fields": {
          "description": "Form fields and generated data (ids)",
          "type": "array",
          "items": {
            "$ref": "#/definitions/FormField"
          }
        },
        "outputs": {
          "description": "Triples to generate from the inputs",
          "type": "array",
          "items": {
            "$ref": "#/definitions/FormOutput"
          }
        }
      },
      "additionalProperties": false
    },
    "DataRowsLayout": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "unaligned"
          ],
          "properties": {
            "unaligned": {
              "$ref": "#/definitions/DataRowsLayoutUnaligned"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "table"
          ],
          "properties": {
            "table": {
              "$ref": "#/definitions/DataRowsLayoutTable"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "DataRowsLayoutTable": {
      "type": "object",
      "required": [
        "elements",
        "orientation"
      ],
      "properties": {
        "elements": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Widget"
          }
        },
        "gap": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "orientation": {
          "$ref": "#/definitions/Orientation"
        },
        "x_scroll": {
          "default": false,
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "DataRowsLayoutUnaligned": {
      "type": "object",
      "required": [
        "widget"
      ],
      "properties": {
        "direction": {
          "anyOf": [
            {
              "$ref": "#/definitions/Direction"
            },
            {
              "type": "null"
            }
          ]
        },
        "gap": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "widget": {
          "$ref": "#/definitions/Widget"
        },
        "x_scroll": {
          "default": false,
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "Direction": {
      "type": "string",
      "enum": [
        "up",
        "down",
        "left",
        "right"
      ]
    },
    "FieldOrLiteral": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "field"
          ],
          "properties": {
            "field": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "literal"
          ],
          "properties": {
            "literal": {
              "$ref": "#/definitions/Node"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "FieldOrLiteralString": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "field"
          ],
          "properties": {
            "field": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "literal"
          ],
          "properties": {
            "literal": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "FilterExpr": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "exists"
          ],
          "properties": {
            "exists": {
              "$ref": "#/definitions/FilterExprExists"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "junction"
          ],
          "properties": {
            "junction": {
              "$ref": "#/definitions/FilterExprJunction"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "FilterExprExists": {
      "type": "object",
      "required": [
        "subchain",
        "type_"
      ],
      "properties": {
        "subchain": {
          "$ref": "#/definitions/ChainBody"
        },
        "suffix": {
          "anyOf": [
            {
              "$ref": "#/definitions/FilterSuffix"
            },
            {
              "type": "null"
            }
          ]
        },
        "type_": {
          "$ref": "#/definitions/FilterExprExistsType"
        }
      },
      "additionalProperties": false
    },
    "FilterExprExistsType": {
      "type": "string",
      "enum": [
        "exists",
        "doesnt_exist"
      ]
    },
    "FilterExprJunction": {
      "type": "object",
      "required": [
        "subexprs",
        "type_"
      ],
      "properties": {
        "subexprs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/FilterExpr"
          }
        },
        "type_": {
          "$ref": "#/definitions/JunctionType"
        }
      },
      "additionalProperties": false
    },
    "FilterSuffix": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "simple"
          ],
          "properties": {
            "simple": {
              "$ref": "#/definitions/FilterSuffixSimple"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "like"
          ],
          "properties": {
            "like": {
              "$ref": "#/definitions/FilterSuffixLike"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "FilterSuffixLike": {
      "type": "object",
      "required": [
        "value"
      ],
      "properties": {
        "value": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FilterSuffixSimple": {
      "type": "object",
      "required": [
        "op",
        "value"
      ],
      "properties": {
        "op": {
          "$ref": "#/definitions/FilterSuffixSimpleOperator"
        },
        "value": {
          "$ref": "#/definitions/Value"
        }
      },
      "additionalProperties": false
    },
    "FilterSuffixSimpleOperator": {
      "type": "string",
      "enum": [
        "eq",
        "neq",
        "lt",
        "gt",
        "lte",
        "gte"
      ]
    },
    "FormField": {
      "oneOf": [
        {
          "description": "Generate a unique id (uuid) - no visible entry.",
          "type": "object",
          "required": [
            "id"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/FormFieldId"
            }
          },
          "additionalProperties": false
        },
        {
          "description": "Add text to the form, no interactive entry.",
          "type": "object",
          "required": [
            "comment"
          ],
          "properties": {
            "comment": {
              "$ref": "#/definitions/FormFieldComment"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "text"
          ],
          "properties": {
            "text": {
              "$ref": "#/definitions/FormFieldText"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "number"
          ],
          "properties": {
            "number": {
              "$ref": "#/definitions/FormFieldNumber"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "bool"
          ],
          "properties": {
            "bool": {
              "$ref": "#/definitions/FormFieldBool"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "date"
          ],
          "properties": {
            "date": {
              "$ref": "#/definitions/FormFieldDate"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "time"
          ],
          "properties": {
            "time": {
              "$ref": "#/definitions/FormFieldTime"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "datetime"
          ],
          "properties": {
            "datetime": {
              "$ref": "#/definitions/FormFieldDatetime"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "rgb_u8"
          ],
          "properties": {
            "rgb_u8": {
              "$ref": "#/definitions/FormFieldRgbU8"
            }
          },
          "additionalProperties": false
        },
        {
          "description": "Present a selection of fixed choices.",
          "type": "object",
          "required": [
            "const_enum"
          ],
          "properties": {
            "const_enum": {
              "$ref": "#/definitions/FormFieldConstEnum"
            }
          },
          "additionalProperties": false
        },
        {
          "description": "Present a selection of choices by performing a query. The query must return two fields: `name` (the text presented to the user) and `id` (the value to store in the relation).",
          "type": "object",
          "required": [
            "query_enum"
          ],
          "properties": {
            "query_enum": {
              "$ref": "#/definitions/FormFieldQueryEnum"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "FormFieldBool": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "initial_on": {
          "default": false,
          "type": "boolean"
        },
        "label": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldComment": {
      "type": "object",
      "required": [
        "text"
      ],
      "properties": {
        "text": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldConstEnum": {
      "type": "object",
      "required": [
        "choices",
        "id",
        "label"
      ],
      "properties": {
        "choices": {
          "type": "array",
          "items": {
            "type": "array",
            "items": [
              {
                "type": "string"
              },
              {
                "$ref": "#/definitions/Node"
              }
            ],
            "maxItems": 2,
            "minItems": 2
          }
        },
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldDate": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldDatetime": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldId": {
      "type": "object",
      "required": [
        "id"
      ],
      "properties": {
        "id": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldNumber": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "placeholder": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "FormFieldQueryEnum": {
      "type": "object",
      "required": [
        "id",
        "label",
        "query"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "query": {
          "$ref": "#/definitions/Query"
        }
      },
      "additionalProperties": false
    },
    "FormFieldRgbU8": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "initial": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "label": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormFieldText": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "placeholder": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "FormFieldTime": {
      "type": "object",
      "required": [
        "id",
        "label"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "FormOutput": {
      "type": "object",
      "required": [
        "object",
        "predicate",
        "subject"
      ],
      "properties": {
        "object": {
          "$ref": "#/definitions/InputOrInline"
        },
        "predicate": {
          "$ref": "#/definitions/InputOrInlineText"
        },
        "subject": {
          "$ref": "#/definitions/InputOrInline"
        }
      },
      "additionalProperties": false
    },
    "InputOrInline": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "input"
          ],
          "properties": {
            "input": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "inline"
          ],
          "properties": {
            "inline": {
              "$ref": "#/definitions/Node"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "InputOrInlineText": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "input"
          ],
          "properties": {
            "input": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "inline"
          ],
          "properties": {
            "inline": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "JunctionType": {
      "type": "string",
      "enum": [
        "and",
        "or"
      ]
    },
    "Link": {
      "type": "object",
      "required": [
        "title",
        "to_node",
        "value"
      ],
      "properties": {
        "title": {
          "$ref": "#/definitions/FieldOrLiteral"
        },
        "to_node": {
          "type": "boolean"
        },
        "value": {
          "$ref": "#/definitions/FieldOrLiteral"
        }
      },
      "additionalProperties": false
    },
    "MenuItem": {
      "type": "object",
      "required": [
        "id",
        "sub"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "sub": {
          "$ref": "#/definitions/MenuItemSub"
        }
      },
      "additionalProperties": false
    },
    "MenuItemForm": {
      "type": "object",
      "required": [
        "form_id",
        "name"
      ],
      "properties": {
        "arguments": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/Node"
          }
        },
        "form_id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "MenuItemSection": {
      "type": "object",
      "required": [
        "children",
        "name"
      ],
      "properties": {
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MenuItem"
          }
        },
        "name": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "MenuItemSub": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "section"
          ],
          "properties": {
            "section": {
              "$ref": "#/definitions/MenuItemSection"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "view"
          ],
          "properties": {
            "view": {
              "$ref": "#/definitions/MenuItemView"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "form"
          ],
          "properties": {
            "form": {
              "$ref": "#/definitions/MenuItemForm"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "MenuItemView": {
      "type": "object",
      "required": [
        "name",
        "view_id"
      ],
      "properties": {
        "arguments": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/Node"
          }
        },
        "name": {
          "type": "string"
        },
        "view_id": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "MoveDirection": {
      "type": "string",
      "enum": [
        "down",
        "up"
      ]
    },
    "Node": {
      "type": "object",
      "required": [
        "t",
        "v"
      ],
      "properties": {
        "t": {
          "$ref": "#/definitions/SerdeNodeType"
        },
        "v": true
      }
    },
    "Orientation": {
      "type": "string",
      "enum": [
        "up_left",
        "up_right",
        "down_left",
        "down_right",
        "left_up",
        "left_down",
        "right_up",
        "right_down"
      ]
    },
    "Query": {
      "description": "Right now, all fields are turned into a single top level record - this is useful for recursion which could otherwise lead to large nested objects when a flat list is desired.  A new `nest` step may be introduced later to create intermediate records (as `QueryResType::Record`).",
      "type": "object",
      "required": [
        "chain"
      ],
      "properties": {
        "chain": {
          "$ref": "#/definitions/Chain"
        },
        "sort": {
          "type": "array",
          "items": {
            "type": "array",
            "items": [
              {
                "$ref": "#/definitions/QuerySortDir"
              },
              {
                "type": "string"
              }
            ],
            "maxItems": 2,
            "minItems": 2
          }
        }
      },
      "additionalProperties": false
    },
    "QueryOrField": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "field"
          ],
          "properties": {
            "field": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "query"
          ],
          "properties": {
            "query": {
              "$ref": "#/definitions/QueryOrFieldQuery"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "QueryOrFieldQuery": {
      "type": "object",
      "required": [
        "query"
      ],
      "properties": {
        "params": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/FieldOrLiteral"
          }
        },
        "query": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "QuerySortDir": {
      "type": "string",
      "enum": [
        "asc",
        "desc"
      ]
    },
    "SerdeNodeType": {
      "type": "string",
      "enum": [
        "f",
        "v"
      ]
    },
    "Step": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "move"
          ],
          "properties": {
            "move": {
              "$ref": "#/definitions/StepMove"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "recurse"
          ],
          "properties": {
            "recurse": {
              "$ref": "#/definitions/StepRecurse"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "junction"
          ],
          "properties": {
            "junction": {
              "$ref": "#/definitions/StepJunction"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "StepJunction": {
      "type": "object",
      "required": [
        "subchains",
        "type_"
      ],
      "properties": {
        "subchains": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ChainBody"
          }
        },
        "type_": {
          "$ref": "#/definitions/JunctionType"
        }
      },
      "additionalProperties": false
    },
    "StepMove": {
      "type": "object",
      "required": [
        "dir",
        "predicate"
      ],
      "properties": {
        "dir": {
          "$ref": "#/definitions/MoveDirection"
        },
        "filter": {
          "anyOf": [
            {
              "$ref": "#/definitions/FilterExpr"
            },
            {
              "type": "null"
            }
          ]
        },
        "first": {
          "type": "boolean"
        },
        "predicate": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "StepRecurse": {
      "type": "object",
      "required": [
        "subchain"
      ],
      "properties": {
        "first": {
          "type": "boolean"
        },
        "subchain": {
          "$ref": "#/definitions/ChainBody"
        }
      },
      "additionalProperties": false
    },
    "TextSizeMode": {
      "type": "string",
      "enum": [
        "wrap",
        "ellipsize"
      ]
    },
    "TransAlign": {
      "type": "string",
      "enum": [
        "start",
        "middle",
        "end"
      ]
    },
    "Value": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "literal"
          ],
          "properties": {
            "literal": {
              "$ref": "#/definitions/Node"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "parameter"
          ],
          "properties": {
            "parameter": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "View": {
      "type": "object",
      "required": [
        "config",
        "queries"
      ],
      "properties": {
        "config": {
          "$ref": "#/definitions/WidgetRootDataRows"
        },
        "queries": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/Query"
          }
        }
      },
      "additionalProperties": false
    },
    "Widget": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "layout"
          ],
          "properties": {
            "layout": {
              "$ref": "#/definitions/WidgetLayout"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "data_rows"
          ],
          "properties": {
            "data_rows": {
              "$ref": "#/definitions/WidgetDataRows"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "text"
          ],
          "properties": {
            "text": {
              "$ref": "#/definitions/WidgetText"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "image"
          ],
          "properties": {
            "image": {
              "$ref": "#/definitions/WidgetImage"
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "play_button"
          ],
          "properties": {
            "play_button": {
              "$ref": "#/definitions/WidgetPlayButton"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "WidgetDataRows": {
      "type": "object",
      "required": [
        "data",
        "row_widget"
      ],
      "properties": {
        "data": {
          "description": "Where to get the data for the sublist.",
          "allOf": [
            {
              "$ref": "#/definitions/QueryOrField"
            }
          ]
        },
        "row_widget": {
          "description": "How the data rows are displayed.",
          "allOf": [
            {
              "$ref": "#/definitions/DataRowsLayout"
            }
          ]
        },
        "trans_align": {
          "default": "start",
          "allOf": [
            {
              "$ref": "#/definitions/TransAlign"
            }
          ]
        },
        "x_scroll": {
          "default": false,
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "WidgetImage": {
      "type": "object",
      "required": [
        "data"
      ],
      "properties": {
        "alt": {
          "default": null,
          "anyOf": [
            {
              "$ref": "#/definitions/FieldOrLiteral"
            },
            {
              "type": "null"
            }
          ]
        },
        "data": {
          "$ref": "#/definitions/FieldOrLiteral"
        },
        "height": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "link": {
          "default": null,
          "anyOf": [
            {
              "$ref": "#/definitions/Link"
            },
            {
              "type": "null"
            }
          ]
        },
        "trans_align": {
          "default": "start",
          "allOf": [
            {
              "$ref": "#/definitions/TransAlign"
            }
          ]
        },
        "width": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "WidgetLayout": {
      "type": "object",
      "required": [
        "direction",
        "elements"
      ],
      "properties": {
        "direction": {
          "$ref": "#/definitions/Direction"
        },
        "elements": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Widget"
          }
        },
        "gap": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "trans_align": {
          "default": "start",
          "allOf": [
            {
              "$ref": "#/definitions/TransAlign"
            }
          ]
        },
        "x_scroll": {
          "default": false,
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "WidgetPlayButton": {
      "type": "object",
      "required": [
        "media_file_field",
        "media_type_field"
      ],
      "properties": {
        "album_field": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "artist_field": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "cover_field": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "direction": {
          "default": null,
          "anyOf": [
            {
              "$ref": "#/definitions/Direction"
            },
            {
              "type": "null"
            }
          ]
        },
        "media_file_field": {
          "type": "string"
        },
        "media_type_field": {
          "description": "The media type (ex `sunwet/1/video`, `sunwet/1/audio`)",
          "allOf": [
            {
              "$ref": "#/definitions/FieldOrLiteral"
            }
          ]
        },
        "name_field": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "trans_align": {
          "default": "start",
          "allOf": [
            {
              "$ref": "#/definitions/TransAlign"
            }
          ]
        }
      },
      "additionalProperties": false
    },
    "WidgetRootDataRows": {
      "type": "object",
      "required": [
        "data",
        "row_blocks"
      ],
      "properties": {
        "data": {
          "description": "Where to get the data for the sublist.",
          "allOf": [
            {
              "$ref": "#/definitions/QueryOrField"
            }
          ]
        },
        "row_blocks": {
          "description": "How the data rows are displayed.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Block"
          }
        }
      },
      "additionalProperties": false
    },
    "WidgetText": {
      "type": "object",
      "required": [
        "data",
        "orientation"
      ],
      "properties": {
        "cons_size_max": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "cons_size_mode": {
          "default": "wrap",
          "allOf": [
            {
              "$ref": "#/definitions/TextSizeMode"
            }
          ]
        },
        "data": {
          "$ref": "#/definitions/FieldOrLiteralString"
        },
        "font_size": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "link": {
          "default": null,
          "anyOf": [
            {
              "$ref": "#/definitions/Link"
            },
            {
              "type": "null"
            }
          ]
        },
        "orientation": {
          "$ref": "#/definitions/Orientation"
        },
        "prefix": {
          "default": "",
          "type": "string"
        },
        "suffix": {
          "default": "",
          "type": "string"
        },
        "trans_align": {
          "default": "start",
          "allOf": [
            {
              "$ref": "#/definitions/TransAlign"
            }
          ]
        }
      },
      "additionalProperties": false
    }
  }
}